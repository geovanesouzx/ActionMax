<!DOCTYPE html>
<html lang="pt-BR" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ActionMax</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="pb-24 md:pb-0">
    <!-- Tela de Carregamento -->
    <div id="loading-screen" class="fixed inset-0 bg-[#0b0c0f] z-[200] flex flex-col items-center justify-center">
        <h1 class="text-5xl tracking-wider text-white uppercase logo-font">Action<span class="text-purple-500">max</span></h1>
        <div class="spinner mt-8"></div>
    </div>

    <!-- Página de Autenticação -->
    <div id="auth-page" class="hidden fixed inset-0 bg-[#0b0c0f] z-[150] flex items-center justify-center p-4">
        <div class="w-full max-w-md">
            <!-- Formulário de Login -->
            <div id="login-form">
                <h1 class="text-4xl tracking-wider text-white uppercase logo-font text-center mb-2">Action<span class="text-purple-500">max</span></h1>
                <h2 class="text-2xl font-bold text-center mb-8">Entrar</h2>
                <div class="space-y-4">
                    <input type="email" id="login-email" class="w-full px-4 py-3 text-lg rounded-md bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Email">
                    <input type="password" id="login-password" class="w-full px-4 py-3 text-lg rounded-md bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Senha">
                    <button id="login-button" class="w-full bg-purple-600 text-white font-bold py-3 rounded-lg hover:bg-purple-700 transition">Entrar</button>
                    <p id="login-error" class="text-red-500 text-center text-sm"></p>
                </div>
                <p class="text-center mt-6 text-gray-400">
                    Novo por aqui? <button id="show-register-button" class="font-semibold text-purple-400 hover:underline">Cadastre-se</button>
                </p>
            </div>
            <!-- Formulário de Cadastro -->
            <div id="register-form" class="hidden">
                 <h1 class="text-4xl tracking-wider text-white uppercase logo-font text-center mb-2">Action<span class="text-purple-500">max</span></h1>
                 <h2 class="text-2xl font-bold text-center mb-8">Criar Conta</h2>
                <div class="space-y-4">
                    <input type="text" id="register-name" class="w-full px-4 py-3 text-lg rounded-md bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Nome de usuário">
                    <input type="email" id="register-email" class="w-full px-4 py-3 text-lg rounded-md bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Email">
                    <input type="password" id="register-password" class="w-full px-4 py-3 text-lg rounded-md bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Senha">
                    <button id="register-button" class="w-full bg-purple-600 text-white font-bold py-3 rounded-lg hover:bg-purple-700 transition">Cadastrar</button>
                    <p id="register-error" class="text-red-500 text-center text-sm"></p>
                </div>
                 <p class="text-center mt-6 text-gray-400">
                    Já tem uma conta? <button id="show-login-button" class="font-semibold text-purple-400 hover:underline">Entrar</button>
                </p>
            </div>
        </div>
    </div>


    <!-- Video Player Overlay -->
    <div id="video-player-overlay" class="hidden fixed inset-0 bg-black z-[100] flex items-center justify-center p-0">
        <button id="close-video-player" class="absolute top-4 right-4 text-white text-4xl z-10">&times;</button>
        <video id="video-player" class="w-full h-full" controls></video>
    </div>

    <!-- Cabeçalho -->
    <header id="main-header" class="hidden fixed top-0 left-0 right-0 z-50 border-b border-transparent">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-8">
                    <div class="flex-shrink-0">
                          <h1 class="text-2xl tracking-wider text-white uppercase logo-font">Action<span class="text-purple-500">max</span></h1>
                    </div>
                    <nav id="desktop-nav" class="hidden md:flex items-center space-x-8">
                        <a href="#inicio" class="nav-link text-gray-300 hover:text-white transition-colors duration-300">Início</a>
                        <a href="#series" class="nav-link text-gray-300 hover:text-white transition-colors duration-300">Séries</a>
                        <a href="#filmes" class="nav-link text-gray-300 hover:text-white transition-colors duration-300">Filmes</a>
                        <a href="#generos" class="nav-link text-gray-300 hover:text-white transition-colors duration-300">Gêneros</a>
                    </nav>
                </div>
                <div class="flex items-center gap-4">
                    <button id="header-search-button" class="p-2 rounded-full hover:bg-gray-700/50">
                       <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                    <div class="relative">
                        <button id="notification-button" class="p-2 rounded-full hover:bg-gray-700/50 relative">
                            <i class="fa-solid fa-bell"></i>
                            <span id="notification-badge" class="hidden absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-[#0b0c0f]"></span>
                        </button>
                        <div id="notification-panel" class="hidden absolute right-0 mt-2 w-80 bg-gray-900 border border-gray-700 rounded-lg shadow-lg p-4 max-h-96 overflow-y-auto">
                            <h3 class="text-lg font-bold mb-4">Notificações</h3>
                            <div id="notification-list" class="space-y-3">
                                <p class="text-gray-400">Nenhuma notificação nova.</p>
                            </div>
                        </div>
                    </div>
                    <button id="profile-button-header" class="p-2 rounded-full hover:bg-gray-700/50">
                        <img id="header-avatar" src="https://placehold.co/40x40/9ca3af/ffffff?text=U" class="w-8 h-8 rounded-full object-cover">
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main id="main-content" class="hidden">
        <!-- Seção Início -->
        <section id="inicio" class="page-section">
            <div class="relative h-screen w-full">
                <div id="hero-backdrop" class="absolute inset-0 w-full h-full bg-cover bg-center"></div>
                <div class="absolute inset-0 hero-gradient-overlay"></div>
                <div class="absolute inset-0 bg-gradient-to-t from-[#0b0c0f] via-transparent"></div>
                <div class="relative z-10 h-full flex items-center">
                    <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-white">
                        <div class="w-full md:w-2/3 lg:w-1/2 text-center md:text-left">
                            <h2 id="hero-title" class="text-4xl lg:text-6xl font-bold mb-4"></h2>
                            <p id="hero-overview" class="mb-8 text-lg max-w-3xl mx-auto md:mx-0"></p>
                            <div id="hero-buttons" class="flex flex-wrap items-center justify-center md:justify-start gap-4"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Container para os carrosséis dinâmicos -->
            <div id="home-carousels-container" class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-12 bg-[#0b0c0f] relative z-20">
                <!-- Os carrosséis de categorias serão inseridos aqui pelo JavaScript -->
            </div>
        </section>

        <!-- Seções de Conteúdo -->
        <section id="buscar" class="page-section hidden container mx-auto px-4 sm:px-6 lg:px-8 py-24"><h1 class="text-4xl font-bold mb-8">Buscar</h1><form id="search-form" class="mb-8"><div class="relative"><input type="text" id="search-input" class="w-full px-4 py-3 pr-12 text-lg rounded-md bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Buscar por filmes, séries..."><button type="submit" class="absolute inset-y-0 right-0 px-4 text-gray-400 hover:text-white"><i class="fa-solid fa-magnifying-glass"></i></button></div></form><div id="search-results" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-x-4 gap-y-8"></div><p id="search-message" class="text-center text-gray-400 mt-8 text-lg hidden">Nenhum resultado encontrado.</p></section>
        <section id="series" class="page-section hidden container mx-auto px-4 sm:px-6 lg:px-8 py-24"><h1 class="text-4xl font-bold mb-8">Todas as Séries</h1><div id="series-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-x-4 gap-y-8"></div></section>
        <section id="filmes" class="page-section hidden container mx-auto px-4 sm:px-6 lg:px-8 py-24"><h1 class="text-4xl font-bold mb-8">Todos os Filmes</h1><div id="filmes-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-x-4 gap-y-8"></div></section>
        <section id="generos" class="page-section hidden container mx-auto px-4 sm:px-6 lg:px-8 py-24"><h1 class="text-4xl font-bold mb-8">Gêneros</h1><div id="genres-container" class="flex flex-wrap gap-4"></div></section>
        <section id="genre-results-page" class="page-section hidden container mx-auto px-4 sm:px-6 lg:px-8 py-24">
            <h1 id="genre-results-title" class="text-4xl font-bold mb-8"></h1>
            <div id="genre-results-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-x-4 gap-y-8"></div>
        </section>
        
        <!-- Tela de Perfil -->
        <section id="profile-page" class="page-section hidden container mx-auto px-4 sm:px-6 lg:px-8 py-24">
             <div class="max-w-4xl mx-auto">
                           <div class="flex flex-col items-center text-center mb-12">
                                <img id="profile-avatar" src="https://placehold.co/128x128/9ca3af/ffffff?text=U" class="w-32 h-32 rounded-full object-cover border-4 border-purple-500">
                                <h3 id="profile-username" class="text-3xl font-bold mt-4">Usuário</h3>
                                <div class="flex gap-4 mt-2">
                                    <button id="edit-profile-button" class="text-sm text-purple-400 hover:underline">Editar Perfil</button>
                                    <button id="logout-button" class="text-sm text-red-400 hover:underline">Sair</button>
                                </div>
                           </div>
                           <div>
                                <h2 class="text-3xl font-bold mb-6">Minha Lista</h2>
                                <div id="my-list-container" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-x-4 gap-y-8"></div>
                                <p id="my-list-message" class="text-center text-gray-400 mt-8 text-lg hidden">Sua lista está vazia.</p>
                           </div>
             </div>
        </section>
    </main>
    
    <!-- Overlays -->
    <div id="details-page" class="hidden fixed inset-0 z-50 bg-cover bg-center bg-fixed bg-no-repeat">
        <div id="details-overlay" class="absolute inset-0"></div>
        <div class="relative w-full h-full overflow-y-auto scrollbar-hide">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 min-h-screen flex flex-col justify-center pt-16 pb-32 md:py-16">
                <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12 text-white relative z-10">
                    <div class="w-48 md:w-auto md:max-w-xs flex-shrink-0"><img id="details-poster" class="w-full mx-auto md:mx-0 rounded-lg shadow-2xl"></div>
                    <div class="w-full md:w-2/3 text-center md:text-left">
                        <div id="details-meta" class="text-sm text-gray-300 mb-2"></div>
                        <h2 id="details-title" class="text-4xl lg:text-6xl font-bold mb-4"></h2>
                        <p id="details-overview" class="mb-8 text-base max-w-3xl mx-auto md:mx-0"></p>
                        <div class="flex flex-wrap items-center justify-center md:justify-start gap-4">
                            <button id="details-watch-button" class="bg-purple-600 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2 hover:bg-purple-700 transition"><i class="fa-solid fa-play"></i> Assistir</button>
                            <button id="details-trailer-button" class="bg-white/10 border border-white/20 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2 hover:bg-white/20 transition"><i class="fa-solid fa-film"></i> Trailer</button>
                            <button id="details-my-list-button" class="bg-white/10 border border-white/20 text-white font-bold py-3 px-6 rounded-lg flex items-center gap-2 hover:bg-white/20 transition"></button>
                        </div>
                    </div>
                </div>
                <!-- Container para temporadas e episódios (para séries) -->
                <div id="seasons-container" class="relative z-10 mt-12 text-white hidden"></div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 text-white relative z-10 mt-12">
                    <div>
                        <h3 class="text-2xl font-bold mb-4">Avaliações</h3>
                        <div class="flex items-center gap-4 mb-2">
                            <span class="font-semibold">Sua Avaliação:</span>
                            <div id="star-rating-container" class="star-rating text-2xl">
                                <i class="fa-solid fa-star" data-value="1"></i><i class="fa-solid fa-star" data-value="2"></i><i class="fa-solid fa-star" data-value="3"></i><i class="fa-solid fa-star" data-value="4"></i><i class="fa-solid fa-star" data-value="5"></i>
                            </div>
                        </div>
                         <div class="flex items-center gap-4 text-gray-300">
                            <span class="font-semibold">Média:</span>
                            <div id="average-rating-display" class="flex items-center gap-2 text-yellow-400 text-lg font-bold"></div>
                        </div>
                    </div>
                     <div>
                        <h3 class="text-2xl font-bold mb-4">Comentários</h3>
                        <div class="mb-4">
                            <textarea id="comment-input" class="w-full p-3 text-base rounded-md bg-gray-800 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Adicionar um comentário..." rows="2"></textarea>
                            <button id="submit-comment-button" class="mt-2 bg-purple-600 text-white font-bold py-2 px-5 rounded-lg hover:bg-purple-700 transition">Comentar</button>
                        </div>
                        <div id="comments-list" class="space-y-4 max-h-48 overflow-y-auto scrollbar-hide"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="edit-profile-overlay" class="hidden fixed inset-0 z-50 bg-[#0b0c0f] p-4 flex flex-col items-center justify-center">
        <h2 class="text-3xl font-bold mb-8">Editar Perfil</h2>
        <div class="w-full max-w-sm space-y-4">
            <input type="text" id="edit-username-input" class="w-full px-4 py-3 text-lg rounded-md bg-gray-900 border border-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500" placeholder="Novo nome de usuário">
            <button id="change-avatar-button" class="w-full bg-gray-700 text-white font-bold py-3 rounded-lg hover:bg-gray-600 transition">Alterar Avatar</button>
        </div>
        <div class="flex gap-4 mt-8">
            <button id="save-profile-button" class="bg-purple-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-purple-700 transition">Salvar</button>
            <button id="cancel-edit-profile-button" class="bg-gray-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 transition">Cancelar</button>
        </div>
    </div>

    <div id="avatar-selection-overlay" class="hidden fixed inset-0 z-[60] bg-[#0b0c0f]/90 backdrop-blur-sm p-4 flex flex-col items-center justify-center">
        <div class="bg-gray-900 p-6 rounded-lg w-full max-w-4xl">
            <h2 class="text-3xl font-bold mb-8 text-center">Escolha um Avatar</h2>
            <div id="avatar-selection-grid" class="max-h-[60vh] overflow-y-auto space-y-6"></div>
            <div class="text-center mt-8">
                <button id="back-to-edit-profile-button" class="bg-gray-800 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 transition">Voltar</button>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação -->
    <div id="confirmation-modal" class="hidden fixed inset-0 bg-black/70 z-[150] flex items-center justify-center p-4">
        <div class="bg-gray-800 rounded-lg p-6 max-w-sm text-center">
            <p id="confirmation-message" class="text-lg mb-6">Tem certeza que deseja apagar este comentário?</p>
            <div class="flex justify-center gap-4">
                <button id="confirm-delete-button" class="bg-red-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-red-700 transition">Apagar</button>
                <button id="cancel-delete-button" class="bg-gray-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-500 transition">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Navegação Inferior Mobile -->
    <nav id="bottom-nav" class="md:hidden fixed bottom-0 left-0 right-0 bg-[#0b0c0f] border-t border-gray-800 px-2 py-2 flex justify-around z-50 bottom-nav">
        <a href="#inicio" class="bottom-nav-link flex-1 flex flex-col items-center text-gray-400 p-1 transition-colors duration-200"><i class="fa-solid fa-house text-xl mb-1"></i><span class="text-xs">Início</span></a>
        <a href="#buscar" class="bottom-nav-link flex-1 flex flex-col items-center text-gray-400 p-1 transition-colors duration-200"><i class="fa-solid fa-magnifying-glass text-xl mb-1"></i><span class="text-xs">Buscar</span></a>
        <a href="#filmes" class="bottom-nav-link flex-1 flex flex-col items-center text-gray-400 p-1 transition-colors duration-200"><i class="fa-solid fa-film text-xl mb-1"></i><span class="text-xs">Filmes</span></a>
        <a href="#series" class="bottom-nav-link flex-1 flex flex-col items-center text-gray-400 p-1 transition-colors duration-200"><i class="fa-solid fa-tv text-xl mb-1"></i><span class="text-xs">Séries</span></a>
        <a href="#profile-page" class="bottom-nav-link flex-1 flex flex-col items-center text-gray-400 p-1 transition-colors duration-200"><i class="fa-solid fa-user text-xl mb-1"></i><span class="text-xs">Perfil</span></a>
    </nav>

    <!-- Rodapé -->
    <footer id="main-footer" class="hidden bg-[#0b0c0f] border-t border-gray-800 text-gray-400">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center text-sm">
            <div id="footer-links" class="flex justify-center gap-6 mb-4">
                <!-- Links serão inseridos aqui -->
            </div>
            <p>&copy; 2024 ActionMax. Todos os direitos reservados.</p>
        </div>
    </footer>
    
    <!-- Modal para Conteúdo do Rodapé -->
    <div id="footer-content-modal" class="hidden fixed inset-0 bg-black/80 z-[150] flex items-center justify-center p-4">
        <div class="bg-gray-900 rounded-lg p-6 max-w-3xl w-full max-h-[80vh] flex flex-col">
            <div class="flex justify-between items-center mb-4">
                <h2 id="footer-modal-title" class="text-2xl font-bold"></h2>
                <button id="close-footer-modal" class="text-3xl">&times;</button>
            </div>
            <div id="footer-modal-content" class="prose prose-invert max-w-none overflow-y-auto"></div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>
